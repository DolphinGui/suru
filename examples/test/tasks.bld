SOMEVARIABLE = $(LINKFLAGS)

a: main.o lib.o

main.o: main.cpp lib.h

lib.o: lib.c lib.h

lib.h: lib.h.in

% < %.o
	g++ -o $@ $^ -O3 $(SOMEVARIABLE)

%.h < %.h.in
	./makeheader.sh $^ $@
