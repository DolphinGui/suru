SOMEVARIABLE = $(upper $(LINKFLAGS))

a.exe: main.o lib.o

main.o: main.cpp lib.h

lib.o: lib.c lib.h

lib.h: lib.h.in

%.o < %.c
	gcc -c -o $@ $^ -O3 $(SOMEVARIABLE)

%.o < %.cpp
	g++ -c -o $@ $^ -O3 $(SOMEVARIABLE)

%.exe < %.o
	g++ -o $@ $^ -O3 $(SOMEVARIABLE)

%.h < %.h.in
	python generate headers please
